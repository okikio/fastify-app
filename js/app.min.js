var t;t=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(c){return void n(c)}u.done?e(s):Promise.resolve(s).then(r,i)}function n(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=t.apply(n,r);function u(t){e(a,i,o,u,s,"next",t)}function s(t){e(a,i,o,u,s,"throw",t)}u(undefined)}))}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(E){return!1}}();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=undefined;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=v(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}}}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function k(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e,n){return(x=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&A(i,n.prototype),i}).apply(null,arguments)}function P(t){var e="function"==typeof Map?new Map:void 0;return(P=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return x(t,arguments,E(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),A(n,t)})(t)}function S(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}var j;"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"}(j||(j={}));var O=j.off,_=function(){function t(t){this.t=t}t.getLevel=function(){return O},t.setLevel=function(t){return O=j[t]};var e=t.prototype;return e.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.error,j.error,e)},e.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.warn,j.warning,e)},e.info=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.info,j.info,e)},e.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.log,j.debug,e)},e.i=function(e,n,r){n<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(r))},t}(),T=B,C=z,L=M,N=D,R=F,q=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function M(t,e){for(var n,r=[],i=0,o=0,a="",u=e&&e.delimiter||"/",s=e&&e.whitelist||void 0,c=!1;null!==(n=q.exec(t));){var f=n[0],l=n[1],h=n.index;if(a+=t.slice(o,h),o=h+f.length,l)a+=l[1],c=!0;else{var p="",d=n[2],v=n[3],m=n[4],g=n[5];if(!c&&a.length){var y=a.length-1,b=a[y];(!s||s.indexOf(b)>-1)&&(p=b,a=a.slice(0,y))}a&&(r.push(a),a="",c=!1);var w=v||m,k=p||u;r.push({name:d||i++,prefix:p,delimiter:k,optional:"?"===g||"*"===g,repeat:"+"===g||"*"===g,pattern:w?H(w):"[^"+$(k===u?k:k+u)+"]+?"})}}return(a||o<t.length)&&r.push(a+t.substr(o)),r}function z(t,e){return function(n,r){var i=t.exec(n);if(!i)return!1;for(var o=i[0],a=i.index,u={},s=r&&r.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var f=e[c-1];u[f.name]=f.repeat?i[c].split(f.delimiter).map((function(t){return s(t,f)})):s(i[c],f)}return{path:o,index:a,params:u}}}function D(e,n){for(var r=new Array(e.length),i=0;i<e.length;i++)"object"==t(e[i])&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",I(n)));return function(t,n){for(var i="",o=n&&n.encode||encodeURIComponent,a=!n||!1!==n.validate,u=0;u<e.length;u++){var s=e[u];if("string"!=typeof s){var c,f=t?t[s.name]:void 0;if(Array.isArray(f)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===f.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var l=0;l<f.length;l++){if(c=o(f[l],s),a&&!r[u].test(c))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');i+=(0===l?s.prefix:s.delimiter)+c}}else if("string"!=typeof f&&"number"!=typeof f&&"boolean"!=typeof f){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"))}else{if(c=o(String(f),s),a&&!r[u].test(c))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+c+'"');i+=s.prefix+c}}else i+=s}return i}}function $(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function H(t){return t.replace(/([=!:$/()])/g,"\\$1")}function I(t){return t&&t.sensitive?"":"i"}function F(t,e,n){for(var r=(n=n||{}).strict,i=!1!==n.start,o=!1!==n.end,a=n.delimiter||"/",u=[].concat(n.endsWith||[]).map($).concat("$").join("|"),s=i?"^":"",c=0;c<t.length;c++){var f=t[c];if("string"==typeof f)s+=$(f);else{var l=f.repeat?"(?:"+f.pattern+")(?:"+$(f.delimiter)+"(?:"+f.pattern+"))*":f.pattern;e&&e.push(f),s+=f.optional?f.prefix?"(?:"+$(f.prefix)+"("+l+"))?":"("+l+")?":$(f.prefix)+"("+l+")"}}if(o)r||(s+="(?:"+$(a)+")?"),s+="$"===u?"$":"(?="+u+")";else{var h=t[t.length-1],p="string"==typeof h?h[h.length-1]===a:void 0===h;r||(s+="(?:"+$(a)+"(?="+u+"))?"),p||(s+="(?="+$(a)+"|"+u+")")}return new RegExp(s,I(n))}function B(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(B(t[i],e,n).source);return new RegExp("(?:"+r.join("|")+")",I(n))}(t,e,n):function(t,e,n){return F(M(t,n),e,n)}(t,e,n)}T.match=function(t,e){var n=[];return z(B(t,n,e),n)},T.regexpToFunction=C,T.parse=L,T.compile=function(t,e){return D(M(t,e),e)},T.tokensToFunction=N,T.tokensToRegExp=R;var U={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},V=new(function(){function t(){this.o=U,this.u=new DOMParser}var e=t.prototype;return e.toString=function(t){return t.outerHTML},e.toDocument=function(t){return this.u.parseFromString(t,"text/html")},e.toElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e},e.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},e.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},e.getContainer=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},e.removeContainer=function(t){document.body.contains(t)&&t.parentNode.removeChild(t)},e.addContainer=function(t,e){var n=this.getContainer();n?this.s(t,n):e.appendChild(t)},e.getNamespace=function(t){void 0===t&&(t=document);var e=t.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return e?e.getAttribute(this.o.prefix+"-"+this.o.namespace):null},e.getHref=function(t){if(t.tagName&&"a"===t.tagName.toLowerCase()){if("string"==typeof t.href)return t.href;var e=t.getAttribute("href")||t.getAttribute("xlink:href");if(e)return this.resolveUrl(e.baseVal||e)}return null},e.resolveUrl=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length;if(0===r)throw new Error("resolveUrl requires at least one argument; got none.");var i=document.createElement("base");if(i.href=arguments[0],1===r)return i.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(i,o.firstChild);for(var a,u=document.createElement("a"),s=1;s<r;s++)u.href=arguments[s],i.href=a=u.href;return o.removeChild(i),a},e.s=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},t}()),X=new(function(){function t(){this.h=[],this.v=-1}var e=t.prototype;return e.init=function(t,e){this.l="barba";var n={ns:e,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(n),this.v=0;var r={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(r,"",t)},e.change=function(t,e,n){if(n&&n.state){var r=n.state,i=r.index;e=this.m(this.v-i),this.replace(r.states),this.v=i}else this.add(t,e);return e},e.add=function(t,e){var n=this.size,r=this.p(e),i={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(i),this.v=n;var o={from:this.l,index:n,states:[].concat(this.h)};switch(r){case"push":window.history&&window.history.pushState(o,"",t);break;case"replace":window.history&&window.history.replaceState(o,"",t)}},e.update=function(t,e){var n=e||this.v,r=w({},this.get(n),{},t);this.set(n,r)},e.remove=function(t){t?this.h.splice(t,1):this.h.pop(),this.v--},e.clear=function(){this.h=[],this.v=-1},e.replace=function(t){this.h=t},e.get=function(t){return this.h[t]},e.set=function(t,e){return this.h[t]=e},e.p=function(t){var e="push",n=t,r=U.prefix+"-"+U.history;return n.hasAttribute&&n.hasAttribute(r)&&(e=n.getAttribute(r)),e},e.m=function(t){return Math.abs(t)>1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},b(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),W=function(t,e){try{var n=function(){if(!e.next.html)return Promise.resolve(t).then((function(t){var n=e.next;if(t){var r=V.toElement(t);n.namespace=V.getNamespace(r),n.container=V.getContainer(r),n.html=t,X.update({ns:n.namespace});var i=V.toDocument(t);document.title=i.title}}))}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},J=T,Y={__proto__:null,update:W,nextTick:function(){return new Promise((function(t){window.requestAnimationFrame(t)}))},pathToRegexp:J},K=function(){return window.location.origin},Q=function(t){return void 0===t&&(t=window.location.href),G(t).port},G=function(t){var e,n=t.match(/:\d+/);if(null===n)/^http/.test(t)&&(e=80),/^https/.test(t)&&(e=443);else{var r=n[0].substring(1);e=parseInt(r,10)}var i,o=t.replace(K(),""),a={},u=o.indexOf("#");u>=0&&(i=o.slice(u+1),o=o.slice(0,u));var s=o.indexOf("?");return s>=0&&(a=Z(o.slice(s+1)),o=o.slice(0,s)),{hash:i,path:o,port:e,query:a}},Z=function(t){return t.split("&").reduce((function(t,e){var n=e.split("=");return t[n[0]]=n[1],t}),{})},tt=function(t){return void 0===t&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},et={__proto__:null,getHref:function(){return window.location.href},getOrigin:K,getPort:Q,getPath:function(t){return void 0===t&&(t=window.location.href),G(t).path},parse:G,parseQuery:Z,clean:tt};function nt(t,e,n){return void 0===e&&(e=2e3),new Promise((function(r,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)r(o.responseText);else if(o.status){var e={status:o.status,statusText:o.statusText};n(t,e),i(e)}},o.ontimeout=function(){var r=new Error("Timeout error ["+e+"]");n(t,r),i(r)},o.onerror=function(){var e=new Error("Fetch error");n(t,e),i(e)},o.open("GET",t),o.timeout=e,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()}))}var rt=function(e){return!!e&&("object"==t(e)||"function"==typeof e)&&"function"==typeof e.then};function it(t,e){return void 0===e&&(e={}),function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=!1,a=new Promise((function(n,i){e.async=function(){return o=!0,function(t,e){t?i(t):n(e)}};var a=t.apply(e,r);o||(rt(a)?a.then(n,i):n(a))}));return a}}var ot=new(function(t){function e(){var e;return(e=t.call(this)||this).logger=new _("@barba/core"),e.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],e.registered=new Map,e.init(),e}k(e,t);var n=e.prototype;return n.init=function(){var t=this;this.registered.clear(),this.all.forEach((function(e){t[e]||(t[e]=function(n,r){t.registered.has(e)||t.registered.set(e,new Set),t.registered.get(e).add({ctx:r||{},fn:n})})}))},n["do"]=function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.registered.has(t)){var o=Promise.resolve();return this.registered.get(t).forEach((function(t){o=o.then((function(){return it(t.fn,t.ctx).apply(void 0,r)}))})),o["catch"]((function(n){e.logger.debug("Hook error ["+t+"]"),e.logger.error(n)}))}return Promise.resolve()},n.clear=function(){var t=this;this.all.forEach((function(e){delete t[e]})),this.init()},n.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach((function(e,n){return t.push(n)})),this.logger.info("Registered hooks: "+t.join(","))},e}((function(){}))),at=function(){function t(t){if(this.P=[],"boolean"==typeof t)this.g=t;else{var e=Array.isArray(t)?t:[t];this.P=e.map((function(t){return J(t)}))}}return t.prototype.checkHref=function(t){if("boolean"==typeof this.g)return this.g;var e=G(t).path;return this.P.some((function(t){return null!==t.exec(e)}))},t}(),ut=function(t){function e(e){var n;return(n=t.call(this,e)||this).k=new Map,n}k(e,t);var n=e.prototype;return n.set=function(t,e,n){return this.k.set(t,{action:n,request:e}),{action:n,request:e}},n.get=function(t){return this.k.get(t)},n.getRequest=function(t){return this.k.get(t).request},n.getAction=function(t){return this.k.get(t).action},n.has=function(t){return!this.checkHref(t)&&this.k.has(t)},n["delete"]=function(t){return this.k["delete"](t)},n.update=function(t,e){var n=w({},this.k.get(t),{},e);return this.k.set(t,n),n},e}(at),st=function(){return!window.history.pushState},ct=function(t){return!t.el||!t.href},ft=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},lt=function(t){var e=t.el;return e.hasAttribute("target")&&"_blank"===e.target},ht=function(t){var e=t.el;return void 0!==e.protocol&&window.location.protocol!==e.protocol||void 0!==e.hostname&&window.location.hostname!==e.hostname},pt=function(t){var e=t.el;return void 0!==e.port&&Q()!==Q(e.href)},dt=function(t){var e=t.el;return e.getAttribute&&"string"==typeof e.getAttribute("download")},vt=function(t){return t.el.hasAttribute(U.prefix+"-"+U.prevent)},mt=function(t){return Boolean(t.el.closest("["+U.prefix+"-"+U.prevent+'="all"]'))},gt=function(t){var e=t.href;return tt(e)===tt()&&Q(e)===Q()},yt=function(t){function e(e){var n;return(n=t.call(this,e)||this).suite=[],n.tests=new Map,n.init(),n}k(e,t);var n=e.prototype;return n.init=function(){this.add("pushState",st),this.add("exists",ct),this.add("newTab",ft),this.add("blank",lt),this.add("corsDomain",ht),this.add("corsPort",pt),this.add("download",dt),this.add("preventSelf",vt),this.add("preventAll",mt),this.add("sameUrl",gt,!1)},n.add=function(t,e,n){void 0===n&&(n=!0),this.tests.set(t,e),n&&this.suite.push(t)},n.run=function(t,e,n,r){return this.tests.get(t)({el:e,event:n,href:r})},n.checkLink=function(t,e,n){var r=this;return this.suite.some((function(i){return r.run(i,t,e,n)}))},e}(at),bt=function(t){function e(n,r){var i;void 0===r&&(r="Barba error");for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];return(i=t.call.apply(t,[this].concat(a))||this).error=n,i.label=r,Error.captureStackTrace&&Error.captureStackTrace(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),e),i.name="BarbaError",i}return k(e,t),e}(P(Error)),wt=function(){function t(t){void 0===t&&(t=[]),this.logger=new _("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.update()}var e=t.prototype;return e.add=function(t,e){switch(t){case"rule":this.A.splice(e.position||0,0,e.value);break;case"transition":default:this.all.push(e)}this.update()},e.resolve=function(t,e){var n=this;void 0===e&&(e={});var r=e.once?this.once:this.page;r=r.filter(e.self?function(t){return t.name&&"self"===t.name}:function(t){return!t.name||"self"!==t.name});var i=new Map,o=r.find((function(r){var o=!0,a={};return!(!e.self||"self"!==r.name)||(n.A.reverse().forEach((function(e){o&&(o=n.R(r,e,t,a),r.from&&r.to&&(o=n.R(r,e,t,a,"from")&&n.R(r,e,t,a,"to")),r.from&&!r.to&&(o=n.R(r,e,t,a,"from")),!r.from&&r.to&&(o=n.R(r,e,t,a,"to")))})),i.set(r,a),o)})),a=i.get(o),u=[];if(u.push(e.once?"once":"page"),e.self&&u.push("self"),a){var s,c=[o];Object.keys(a).length>0&&c.push(a),(s=this.logger).info.apply(s,["Transition found ["+u.join(",")+"]"].concat(c))}else this.logger.info("No transition found ["+u.join(",")+"]");return o},e.update=function(){var t=this;this.all=this.all.map((function(e){return t.T(e)})).sort((function(t,e){return t.priority-e.priority})).reverse().map((function(t){return delete t.priority,t})),this.page=this.all.filter((function(t){return void 0!==t.leave||void 0!==t.enter})),this.once=this.all.filter((function(t){return void 0!==t.once}))},e.R=function(t,e,n,r,i){var o=!0,a=!1,u=t,s=e.name,c=s,f=s,l=s,h=i?u[i]:u,p="to"===i?n.next:n.current;if(i?h&&h[s]:h[s]){switch(e.type){case"strings":default:var d=Array.isArray(h[c])?h[c]:[h[c]];p[c]&&-1!==d.indexOf(p[c])&&(a=!0),-1===d.indexOf(p[c])&&(o=!1);break;case"object":var v=Array.isArray(h[f])?h[f]:[h[f]];p[f]?(p[f].name&&-1!==v.indexOf(p[f].name)&&(a=!0),-1===v.indexOf(p[f].name)&&(o=!1)):o=!1;break;case"function":h[l](n)?a=!0:o=!1}a&&(i?(r[i]=r[i]||{},r[i][s]=u[i][s]):r[s]=u[s])}return o},e.O=function(t,e,n){var r=0;return(t[e]||t.from&&t.from[e]||t.to&&t.to[e])&&(r+=Math.pow(10,n),t.from&&t.from[e]&&(r+=1),t.to&&t.to[e]&&(r+=2)),r},e.T=function(t){var e=this;t.priority=0;var n=0;return this.A.forEach((function(r,i){n+=e.O(t,r.name,i+1)})),t.priority=n,t},t}(),kt=function(){function t(t){void 0===t&&(t=[]),this.logger=new _("@barba/core"),this.S=!1,this.store=new wt(t)}var e=t.prototype;return e.get=function(t,e){return this.store.resolve(t,e)},e.doOnce=function(t){var e=t.data,n=t.transition;try{var r=function(){i.S=!1},i=this,o=n||{};i.S=!0;var a=S((function(){return Promise.resolve(i.j("beforeOnce",e,o)).then((function(){return Promise.resolve(i.once(e,o)).then((function(){return Promise.resolve(i.j("afterOnce",e,o)).then((function(){}))}))}))}),(function(t){i.S=!1,i.logger.debug("Transition error [before/after/once]"),i.logger.error(t)}));return Promise.resolve(a&&a.then?a.then(r):r())}catch(t){return Promise.reject(t)}},e.doPage=function(t){var e=t.data,n=t.transition,r=t.page,i=t.wrapper;try{var o=function(t){if(a)return t;u.S=!1},a=!1,u=this,s=n||{},c=!0===s.sync||!1;u.S=!0;var f=S((function(){function t(){return Promise.resolve(u.j("before",e,s)).then((function(){function t(t){return Promise.resolve(u.remove(e)).then((function(){return Promise.resolve(u.j("after",e,s)).then((function(){}))}))}var n=function(){if(c)return S((function(){return Promise.resolve(u.add(e,i)).then((function(){return Promise.resolve(u.j("beforeLeave",e,s)).then((function(){return Promise.resolve(u.j("beforeEnter",e,s)).then((function(){return Promise.resolve(Promise.all([u.leave(e,s),u.enter(e,s)])).then((function(){return Promise.resolve(u.j("afterLeave",e,s)).then((function(){return Promise.resolve(u.j("afterEnter",e,s)).then((function(){}))}))}))}))}))}))}),(function(t){if(u.M(t))throw new bt(t,"Transition error [sync]")}));var t=function(t){return S((function(){var t=function(){if(!1!==n)return Promise.resolve(u.add(e,i)).then((function(){return Promise.resolve(u.j("beforeEnter",e,s)).then((function(){return Promise.resolve(u.enter(e,s,n)).then((function(){return Promise.resolve(u.j("afterEnter",e,s)).then((function(){}))}))}))}))}();if(t&&t.then)return t.then((function(){}))}),(function(t){if(u.M(t))throw new bt(t,"Transition error [before/after/enter]")}))},n=!1,o=S((function(){return Promise.resolve(u.j("beforeLeave",e,s)).then((function(){return Promise.resolve(Promise.all([u.leave(e,s),W(r,e)]).then((function(t){return t[0]}))).then((function(t){return n=t,Promise.resolve(u.j("afterLeave",e,s)).then((function(){}))}))}))}),(function(t){if(u.M(t))throw new bt(t,"Transition error [before/after/leave]")}));return o&&o.then?o.then(t):t()}();return n&&n.then?n.then(t):t()}))}var n=function(){if(c)return Promise.resolve(W(r,e)).then((function(){}))}();return n&&n.then?n.then(t):t()}),(function(t){if(u.S=!1,t.name&&"BarbaError"===t.name)throw u.logger.debug(t.label),u.logger.error(t.error),t;throw u.logger.debug("Transition error [page]"),u.logger.error(t),t}));return Promise.resolve(f&&f.then?f.then(o):o(f))}catch(t){return Promise.reject(t)}},e.once=function(t,e){try{return Promise.resolve(ot["do"]("once",t,e)).then((function(){return e.once?it(e.once,e)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},e.leave=function(t,e){try{return Promise.resolve(ot["do"]("leave",t,e)).then((function(){return e.leave?it(e.leave,e)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},e.enter=function(t,e,n){try{return Promise.resolve(ot["do"]("enter",t,e)).then((function(){return e.enter?it(e.enter,e)(t,n):Promise.resolve()}))}catch(t){return Promise.reject(t)}},e.add=function(t,e){try{return V.addContainer(t.next.container,e),ot["do"]("nextAdded",t),Promise.resolve()}catch(t){return Promise.reject(t)}},e.remove=function(t){try{return V.removeContainer(t.current.container),ot["do"]("currentRemoved",t),Promise.resolve()}catch(t){return Promise.reject(t)}},e.M=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},e.j=function(t,e,n){try{return Promise.resolve(ot["do"](t,e,n)).then((function(){return n[t]?it(n[t],n)(e):Promise.resolve()}))}catch(t){return Promise.reject(t)}},b(t,[{key:"isRunning",get:function(){return this.S},set:function(t){this.S=t}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some((function(t){return"self"===t.name}))}},{key:"shouldWait",get:function(){return this.store.all.some((function(t){return t.to&&!t.to.route||t.sync}))}}]),t}(),Et=function(){function t(t){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach((function(t){e.byNamespace.set(t.namespace,t)})),this.names.forEach((function(t){ot[t](e.L(t))})))}return t.prototype.L=function(t){var e=this;return function(n){var r=t.match(/enter/i)?n.next:n.current,i=e.byNamespace.get(r.namespace);return i&&i[t]?it(i[t],i)(n):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var At={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},xt=new(function(){function t(){this.version="2.9.7",this.schemaPage=At,this.Logger=_,this.logger=new _("@barba/core"),this.plugins=[],this.hooks=ot,this.dom=V,this.helpers=Y,this.history=X,this.request=nt,this.url=et}var e=t.prototype;return e.use=function(t,e){var n=this.plugins;n.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,e),n.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},e.init=function(t){var e=void 0===t?{}:t,n=e.transitions,r=void 0===n?[]:n,i=e.views,o=void 0===i?[]:i,a=e.schema,u=void 0===a?U:a,s=e.requestError,c=e.timeout,f=void 0===c?2e3:c,l=e.cacheIgnore,h=void 0!==l&&l,p=e.prefetchIgnore,d=void 0!==p&&p,v=e.preventRunning,m=void 0!==v&&v,g=e.prevent,y=void 0===g?null:g,b=e.debug,k=e.logLevel;if(_.setLevel(!0===(void 0!==b&&b)?"debug":void 0===k?"off":k),this.logger.info(this.version),Object.keys(u).forEach((function(t){U[t]&&(U[t]=u[t])})),this.$=s,this.timeout=f,this.cacheIgnore=h,this.prefetchIgnore=d,this.preventRunning=m,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var E=this.data.current;if(!E.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new ut(h),this.prevent=new yt(d),this.transitions=new kt(r),this.views=new Et(o),null!==y){if("function"!=typeof y)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",y)}this.history.init(E.url.href,E.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach((function(t){return t.init()}));var A=this.data;A.trigger="barba",A.next=A.current,A.current=w({},this.schemaPage),this.hooks["do"]("ready",A),this.once(A),this.q()},e.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},e.force=function(t){window.location.assign(t)},e.go=function(t,e,n){var r;if(void 0===e&&(e="barba"),this.transitions.isRunning)this.force(t);else if(!(r="popstate"===e?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf)return e=this.history.change(t,e,n),n&&(n.stopPropagation(),n.preventDefault()),this.page(t,e,r)},e.once=function(t){try{var e=this;return Promise.resolve(e.hooks["do"]("beforeEnter",t)).then((function(){function n(){return Promise.resolve(e.hooks["do"]("afterEnter",t)).then((function(){}))}var r=function(){if(e.transitions.hasOnce){var n=e.transitions.get(t,{once:!0});return Promise.resolve(e.transitions.doOnce({transition:n,data:t})).then((function(){}))}}();return r&&r.then?r.then(n):n()}))}catch(t){return Promise.reject(t)}},e.page=function(t,e,n){try{var r=function(){var t=i.data;return Promise.resolve(i.hooks["do"]("page",t)).then((function(){var e=S((function(){var e=i.transitions.get(t,{once:!1,self:n});return Promise.resolve(i.transitions.doPage({data:t,page:o,transition:e,wrapper:i._})).then((function(){i.q()}))}),(function(){0===_.getLevel()&&i.force(t.current.url.href)}));if(e&&e.then)return e.then((function(){}))}))},i=this;i.data.next.url=w({href:t},i.url.parse(t)),i.data.trigger=e;var o=i.cache.has(t)?i.cache.update(t,{action:"click"}).request:i.cache.set(t,i.request(t,i.timeout,i.onRequestError.bind(i,e)),"click").request,a=function(){if(i.transitions.shouldWait)return Promise.resolve(W(o,i.data)).then((function(){}))}();return Promise.resolve(a&&a.then?a.then(r):r())}catch(t){return Promise.reject(t)}},e.onRequestError=function(t){this.transitions.isRunning=!1;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n[0],o=n[1],a=this.cache.getAction(i);return this.cache["delete"](i),!(this.$&&!1===this.$(t,a,i,o)||("click"===a&&this.force(i),1))},e.prefetch=function(t){var e=this;this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,"barba"))["catch"]((function(t){e.logger.error(t)})),"prefetch")},e.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},e.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},e.B=function(t){var e=this,n=this.I(t);if(n){var r=this.dom.getHref(n);this.prevent.checkHref(r)||this.cache.has(r)||this.cache.set(r,this.request(r,this.timeout,this.onRequestError.bind(this,n))["catch"]((function(t){e.logger.error(t)})),"enter")}},e.U=function(t){var e=this.I(t);if(e)return this.transitions.isRunning&&this.preventRunning?(t.preventDefault(),void t.stopPropagation()):void this.go(this.dom.getHref(e),e,t)},e.D=function(t){this.go(this.url.getHref(),"popstate",t)},e.I=function(t){for(var e=t.target;e&&!this.dom.getHref(e);)e=e.parentNode;if(e&&!this.prevent.checkLink(e,t,this.dom.getHref(e)))return e},e.q=function(){var t=this.url.getHref(),e={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:w({href:t},this.url.parse(t))};this.C={current:e,next:w({},this.schemaPage),trigger:void 0},this.hooks["do"]("reset",this.data)},b(t,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),t}()),Pt=Object.assign,St=Object.keys,jt=Array.isArray,Ot=function(t,e){var n=Pt({},e);return t.forEach((function(t){return delete n[t]})),n},_t=function(t){return t[0].toUpperCase()+t.slice(1)},Tt=function(e,n){return t(e)===n},Ct=function(t,e){return t instanceof e},Lt=function(t){return function(e){return Tt(e,t)}};Pt(Tt,{el:function(t){return Ct(t,Element)||Ct(t,Document)},arrlike:function(t){var e=Tt(t.length,"number")&&t.length;return 0===e||e>0&&e-1 in t},num:function(t){return!isNaN(t)&&Lt("number")(t)},"class":function(t){return t&&t._method&&t._class},not:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return!Tt[t].apply(Tt,n)},doc:function(t){return Ct(t,Document)},def:function(t){return!Tt(t,"undefined")},win:function(t){return t&&t.window},undef:Lt("undefined"),bool:Lt("boolean"),fn:Lt("function"),str:Lt("string"),obj:Lt("object"),nul:function(t){return null===t},inst:Ct,arr:jt,_type:Lt});var Nt=function(t,e,n){return Tt.not("fn",t)||St(t.prototype||{}).length>0?t:t.apply(n,e)},Rt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,qt=/(?:^|,)\s*([^\s,=]+)/g,Mt=function(t){var e=t.toString().replace(Rt,""),n=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(qt),r=[];if(Tt.nul(n))return[];for(var i=0;i<n.length;i++)r.push(n[i].replace(/[\s,]/g,""));return r},zt=function on(t,e,n){return e=e.toString().split(/[.,]/g),Tt.def(n)?(e.length>1?on(t[e.shift()],e,n):t[e[0]]=n,n):(e.forEach((function(e){t=t[e]})),t)},Dt=function(t,e,n){return Tt.obj(e)&&Tt.not("arr",e)?Pt(t,e):Tt.arr(e)?Tt.undef(n)?e.map((function(e){return zt(t,e)})):(e.forEach((function(e){zt(t,e,n)})),t):zt(t,e,n)},$t=function(t,e){if(!Tt.undef(t)){var n=t.matches||t.msMatchesSelector||t.webkitMatchesSelector;return n?n.call(t,e):void 0}},Ht=function(t,e){var n=function(){return t.apply(this,e)};return n.prototype=t.prototype,new n},It=function(t){var e="prototype"===t;return function(t){for(var n=t.SuperClass&&t.SuperClass.prototype,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.forEach((function(r){var i=Nt(r,[t,t.constructor],t.prototype);St(i).forEach((function(r){var o=i[r],a=o,u={enumerable:!0,configurable:!0};Tt.fn(a)&&(n&&"$super"===Mt(a)[0]&&(o=function(){for(var t=n[r].bind(this),e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return a.call.apply(a,[this,t].concat(i))}),o.valueOf=a.valueOf.bind(a),o.toString=a.toString.bind(a)),Tt.def(o)&&Tt.obj(o)&&o.$$prop?Pt(u,{set:function(t){Object.defineProperty(this,r,{value:t})},get:function(){return this[r]}},Ot(["$$prop"],o)):Pt(u,{writable:!0,value:o}),Object.defineProperty(e?t.prototype:t,r,u)}))})),t}},Ft=It("prototype"),Bt=It("static"),Ut=function(){var t,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1?arguments[1]:undefined,r=n&&n.thisArg||[],i=n&&n.chain||[],o={},a=function(a){var u=e[a],s=void 0;Tt.fn(u)&&(o[a]=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return Tt.fn(n)?n.call.apply(n,[this,u].concat(o)):(t=r.includes(a)?[this].concat(o):o,i.includes(a)?(u.apply(this,t),this):u.apply(this,t))},s=u.toString.bind(u),o[a].toString=i.includes(a)?function(){return"".concat(s()," return this;")}:s,o[a].valueOf=u.valueOf.bind(u))};for(var u in e)a(u);return o},Vt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"get",e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"function";return function(n){var r=n;return"function"===e&&((r=Function("with (this) return ".concat(n))).toString=n.toString),a({$$prop:!0},t,r)}},Xt=Vt("get","function"),Wt=Vt("set","function"),Jt=function(t,e){for(var n=null,r=t,i=r,o=i.SuperClass;o;){var a=o.prototype[e];if(r[e]!==a){n=a;break}o=(i=(r=o.prototype).constructor).SuperClass}if(n){for(var u=arguments.length,s=new Array(u>2?u-2:0),c=2;c<u;c++)s[c-2]=arguments[c];return n.apply(t,s)}console.error("".concat(e," method not found in prototype chain."))},Yt={fnval:Nt,argNames:Mt,method:Ft,"static":Bt,path:zt,attr:Dt,alias:Ut,"new":Ht,callsuper:Jt},Kt={_is:Tt,_fnval:Nt,_argNames:Mt,_method:Ft,_static:Bt,_path:zt,_attr:Dt,_alias:Ut,_configAttr:Vt,_get:Xt,_set:Wt,_new:Ht,_callsuper:Jt,assign:Pt,keys:St};Kt=St(Kt).reduce((function(t,e){return"_"===e.charAt(0)&&(t[e.slice(1)]=Kt[e]),t}),Kt);var Qt=Ut(Yt,(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=t.apply(this,[this].concat(n));return i})),Gt=function an(){var t,e,n,r;n=function(){};for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return Tt.fn(o[0])&&St(o[0].prototype||{}).length&&(r=o.shift()),(e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt.inst(this,e)?(this._args=n,this.init.apply(this,this._args)):Ht(e,n)}).SuperClass=r,e.SubClasses=[],r&&(n.prototype=r.prototype,e.prototype=new n,Tt.arr(r.SubClasses)||(r.SubClasses=[]),r.SubClasses.push(e)),Pt(e,Qt,{extend:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return an.call.apply(an,[this,this].concat(e))},create:an}),Pt(e.prototype,e),(t=e).method.apply(t,o),e.prototype._class||(e.prototype._class="New Class"),e.prototype.init?(e.toString=e.prototype.init.toString,e.toValue=e.prototype.init.toValue):e.prototype.init=function(){},e.prototype.constructor=e,e};function Zt(t,e){return t.slice(0,e).join(".")||"."}function te(t,e){for(var n=t.length,r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function ee(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}Pt(Gt,Kt);var ne,re=ee(Object.freeze({__proto__:null,"default":function(e,n,r,i){return JSON.stringify(e,function(e,n){var r="function"==typeof e,i="function"==typeof n,o=[],a=[];return function(u,s){if("object"===t(s))if(o.length){var c=te(o,this);0===c?o[o.length]=this:(o.splice(c),a.splice(c)),a[a.length]=u;var f=te(o,s);if(0!==f)return i?n.call(this,u,s,Zt(a,f)):"[ref="+Zt(a,f)+"]"}else o[0]=s,a[0]=u;return r?e.call(this,u,s):s}}(n,i),r)}})),ie=function(t){var e=[];return re(t,(function(t,n){return"function"==typeof n?(e.push(n.toString()),"_"):n}),4).replace(/"_"/g,(function(){return e.shift()}))},oe=Gt._get,ae=Gt._is,ue=Gt._argNames,se=Gt.keys,ce=document.readyState,fe=!1,le=function(){};ne=Object.defineProperty({},"passive",{get:function(){return fe={capture:!1,passive:!0}}}),window.addEventListener("PassiveEventTest",le,ne),window.removeEventListener("PassiveEventsTest",le,ne);var he,pe,de,ve,me=Gt({_class:"Event",init:function(){this._events={},this._emit=[]},_names:oe("Object.keys(_events)"),_eventCount:oe("_names.length"),_preEvent:function(t){return this._events[t]||(this._events[t]=[]),this._events[t]},_eventApp:function(t,e,n){return{callback:t,scope:e,event:n}},on:function(t,e,n){var r,i;if(!ae.undef(t))return ae.str(t)&&(t=t.split(/\s/g)),ae.not("arr",t)&&ae.not("obj",t)&&(t=[t]),se(t).forEach((function(o){i=t[o],ae.obj(t)&&ae.not("arr",t)?(r=this._eventApp(i,e||this,o),this._preEvent(o).push(r)):(r=this._eventApp(e,n,i),this._preEvent(i).push(r))}),this),this},emit:function(t,e,n){var r,i=e;if(!ae.undef(t))return ae.str(t)&&(t=t.split(/\s/g)),ae.not("arr",t)&&(t=[t]),t.forEach((function(t){r=this._preEvent(t),this._emit.includes(t)||this._emit.push(t),r.forEach((function(t){i=e,"$evt"===ue(t.callback)[0]&&(i=[t].concat(d(e))),t.callback.apply(ae.undef(t.scope)?n:t.scope,i)}),this)}),this),this},off:function(t,e,n){var r;if(!ae.undef(t)){ae.str(t)&&(t=t.split(/\s/g)),ae.not("arr",t)&&ae.not("obj",t)&&(t=[t]);var i=function(t,e,n){var r=this._preEvent(t);if(e){var i,o=this._eventApp(e,n,t);r.forEach((function(t,e){ie(t)===ie(o)&&(i=e)}),this),i>-1&&r.splice(i,1)}else delete this._events[t]}.bind(this);return se(t).forEach((function(o){r=t[o],ae.obj(t)&&ae.not("obj",t)?i(o,r,n):i(r,e,n)}),this),this}},once:function(t,e,n){if(!ae.undef(t))return ae.str(t)&&(t=t.split(/\s/g)),ae.not("arr",t)&&ae.not("obj",t)&&(t=[t]),this.on(t,(function r(){this.off(t,r,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(n,o)}),n),this},listeners:function(t){var e=this._preEvent(t);return e.length?e.map((function(t){return t.callback})):[]},listenerValues:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=this._preEvent(t);return i.length?i.map((function(t){var e;return(e=t.callback).call.apply(e,[t.scope].concat(n))})):[]},clear:function(){return this._eventCount=0,this._events={},this},clearListeners:function(t){return this._events[t]=[],this},add:oe("on"),bind:oe("on"),remove:oe("off"),unbind:oe("off"),fire:oe("emit"),trigger:oe("emit"),callbacks:oe("listeners")})["static"]({nativeEvents:"ready load blur focus focusin focusout resize click scroll dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".replace(/\s+/g," ").split(" "),applyNative:function(t,e,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"addEventListener",o=arguments.length>5?arguments[5]:undefined;if(n.length){var a,u=function(n){return function(i){ae.str(o)&&$t(i.target,o)?t.emit(n,[i,i.target,t,r],i.target):ae.str(o)||t.emit(n,[i,e,t,r],e)}};/ready|load/.test(n)?/in/.test(ce)?document.addEventListener?document.addEventListener("DOMContentLoaded",u("ready load")):document.attachEvent("onreadystatechange",(function(t){/in/.test(ce)||u("ready load")(t)})):u("ready load")():n.split(" ").forEach((function(t){a=/blur|focus/.test(t),e[i](t,u(n),"scroll"===n?fe:{useCapture:a})}))}}}),ge=document.documentElement,ye=/^\s*<(\w+|!)[^>]*>/,be=me.applyNative,we=me.nativeEvents,ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ee=["column-count","columns","font-weight","line-height","opacity","z-index","zoom"],Ae=function(){var t,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document,n=arguments.length>1?arguments[1]:undefined;if(!Tt.str(n)&&0===n.length)return[];if(/^(#?[\w-]+|\.[\w-.]+)$/.test(n))switch(n.charAt(0)){case"#":return[e.getElementById(n.substr(1))];case".":return t=n.substr(1).replace(/\./g," "),d(e.getElementsByClassName(t));default:return d(e.getElementsByTagName(n))}return d(e.querySelectorAll(n))},xe=function(t,e){if(t.contains)return t!==e&&t.contains(e);for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},Pe=function(t){return Tt.inst(t,he)?t.toArray():t},Se=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return[].map.call(e,(function(t){return Pe(t)})),[].concat.apply(Pe(this),e)},je=function(t){return t.length>0?Se.apply([],t):t},Oe=function(t,e,n){return je([].map.call(t,e,n).filter((function(t){return Tt.def(t)})))},_e=function(t){return"children"in t?[].slice.call(t.children):Oe(t.childNodes,(function(t){if(1===t.nodeType)return t}))},Te={},Ce=function(t,e){var n=t.className||"",r=n&&!Tt.undef(n.baseVal);if(Tt.undef(e))return r?n.baseVal:n;r?n.baseVal=e:t.className=e},Le=function(t){return t in Te?Te[t]:Te[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")},Ne=function(t){var e,n;return(n=document.createElement("div")).innerHTML=""+t.replace(ke,"<$1></$2>"),(e=[].slice.call(n.childNodes)).forEach((function(t){n.removeChild(t)})),e},Re=function(t,e){return Tt.str(t)?(t=t.trim(),ye.test(t)?Ne(t):Ae(e,t)):Tt.inst(t,he)?t.ele:Tt.arr(t)||Tt.inst(t,NodeList)?d(t).filter((function(t){return Tt.def(t)})):Tt.obj(t)||Tt.el(t)?[t]:(Tt.fn(t)&&he(document).ready(t),[])},qe=function(t,e){var n,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"childNodes";(n=function(t){t[r]&&t[r].forEach(n,t),e.call(t,t)})(t)},Me=function(t,e){return Tt.def(e)?he(t).filter(e):he(t)},ze=function(t,e,n){return null===n?t.removeAttribute(e):t.setAttribute(e,n)},De=function(t,e){return Tt.num(+e)&&!Ee.includes(t)?"".concat(e,"px"):e},$e=Object.getOwnPropertyNames(Array.prototype).reduce((function(t,e){var n=Array.prototype[e];return Tt.fn(n)&&!/map|slice|filter|find/.test(e)&&(t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=n.apply(this,e);return Tt.undef(i)?this:i}),t}),{}),He=he=me.extend($e,{init:function($super){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",e=arguments.length>2?arguments[2]:undefined;$super(),this.sel=t,this.ele=Re(this.sel,e);for(var n=0;n<this.ele.length;n++)this[n]=this.ele[n]},slice:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return he([].slice.apply(this,e))},map:function(t){return he(Oe(this,(function(e,n){return t.call(e,e,n)}),this))},on:function($super,t,e,n){var r,i,o,a=this;if(!Tt.undef(t))return Tt.str(t)&&(t=t.split(/\s/g)),Tt.not("arr",t)&&Tt.not("obj",t)&&(t=[t]),i=Tt.obj(t)&&Tt.not("arr",t)?St(t):t,r=i.filter((function(t){return!(t in a._events)}),this).join(" "),Tt.str(e)?o=e:n=e,this.forEach((function(e,i){$super(t,n),be(this,e,r,i,"addEventListener",o)}),this),this},off:function($super,t,e){var n;if(!Tt.undef(t))return Tt.str(t)&&(t=t.split(/\s/g)),Tt.not("arr",t)&&Tt.not("obj",t)&&(t=[t]),n=(Tt.obj(t)&&Tt.not("arr",t)?St(t):t).join(" "),this.forEach((function(r,i){$super(t,e),be(this,r,n,i,"removeEventListener")}),this),this},length:Xt("len"),len:Xt("ele.length"),each:function(t){return[].every.call(this,(function(e,n){return!1!==t.call(e,e,n)})),this},get:function(t){return Tt.undef(t)?[].slice.call(this):this[t>=0?t:t+this.length]},nth:Xt("get"),size:function(){return this.length},toArray:function(){return this.get()},remove:function(){return this.each((function(t){Tt.def(t.parentNode),t.parentNode.removeChild(t)}))},not:function(t){var e=this;return he(this.reduce((function(n,r,i){return Tt.fn(t)&&Tt.def(t.call)?t.call(r,r,i)||n.push(r):(Tt.str(t)?e.filter(t):Tt.arrlike(t)&&Tt.fn(t.item)?[].slice.call(t):he(t)).indexOf(r)<0&&n.push(r),n}),[],this))},filter:function(t){return Tt.fn(t)?this.not(this.not(t)):[].filter.call(this,(function(e){return $t(e,t)}),this)},has:function(t){return this.filter((function(e){return Tt.obj(t)?xe(e,t):he(e).find(t).size()}))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this.get(0);return t&&!Tt.obj(t)?t:he(t)},last:function(){var t=this.get(-1);return t&&!Tt.obj(t)?t:he(t)},find:function(t){var e=this;return t?Tt.obj(t)?he(t).filter((function(t){return[].some.call(e,(function(e){return xe(e,t)}))})):1===this.length?he(Ae(this.get(0),t)):this.map((function(e){return Ae(e,t)})):he()},closest:function(t,e){var n=Tt.obj(t)&&he(t);return he(this.reduce((function(r,i){do{if(n?n.indexOf(i)>=0:$t(i,t))break;i=i!==e&&Tt.not("doc",i)&&i.parentNode}while(null!==i&&1===i.nodeType);return i&&r.indexOf(i)<0&&r.push(i),r}),[]))},parents:function(t){for(var e=[],n=this;n.length>0;)n=n.map((function(t){if((t=t.parentNode)&&!Tt.doc(t)&&e.indexOf(t)<0)return e.push(t),t}));return Me(e,t)},pluck:function(t){return this.map((function(e){return e[t]}))},parent:function(t){return Me((e=this.pluck("parentNode"),[].filter.call(e,(function(t,n){return e.indexOf(t)===n}))),t);var e},children:function(t){return Me(this.map((function(t){return _e(t)})),t)},contents:function(){return this.map((function(t){return t.contentDocument||[].slice.call(t.childNodes)}))},siblings:function(t){return Me(this.map((function(t){return[].filter.call(_e(t.parentNode),(function(e){return e!==t}))})),t)},replaceWith:function(t){return this.before(t).remove()},clone:function(){return this.map((function(t){return t.cloneNode(!0)}))},toggle:function(t){return this.each((function(e){he(e)[t||"none"===e.style("display")?"show":"hide"]()}))},prev:function(t){return he(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return he(this.pluck("nextElementSibling")).filter(t||"*")},html:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];return e.length?this.each((function(t,e){var n=t.innerHTML;he(t).empty().append(Nt(r,[e,n],t))})):this.length?this.get(0).innerHTML:null},text:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];return e.length?this.each((function(t,e){var n=Nt(r,[e,t.textContent],t);t.textContent=Tt.nul(n)?"":"".concat(n)})):this.length?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return Tt.str(t)&&Tt.undef(e)?(n=this.length&&1===this.get(0).nodeType&&this.get(0).getAttribute(t),Tt.nul(n)?undefined:n):this.each((function(n,r){if(1===n.nodeType)if(Tt.arr(t))for(var i in t)ze(n,i,t[i]);else ze(n,t,Nt(e,[r,n.getAttribute(t)],n))}))},removeAttr:function(t){return this.each((function(e){1===e.nodeType&&t.split(" ").forEach((function(t){ze(e,t)}))}))},data:function(t,e){var n="data-".concat(t).toLowerCase(),r=Tt.def(e)?this.attr(n,e):this.attr(n);return null!==r?function(t){try{return/^true|false|null|undefined|\d+$/.test(t)?function(t){return Function('"use strict"; return '.concat(t,";"))()}(t):/^[[{]([\s\S]+)?[\]}]$/.test(t)?JSON.parse(t.replace(/'/g,'"')):t}catch(E){return t}}(r):undefined},val:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0];return e.length?(Tt.nul(i)&&(i=""),this.each((function(t,e){t.value=Nt(i,[e,t.value],t)}))):(r=this.get(0))&&(r.multiple?he(r).find("option").filter((function(t){return t.selected})).pluck("value"):r.value)},offset:function(t){var e;return t?this.each((function(e,n){var r=he(e),i=Nt(t,[n,r.offset()],e),o=r.offsetParent().offset(),a={top:i.top-o.top,left:i.left-o.left};"static"===r.style("position")&&(a.position="relative"),r.style(a)})):this.length?ge===this.get(0)||xe(ge,this.get(0))?{left:(e=this.get(0).getBoundingClientRect()).left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}:{top:0,left:0}:null},style:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0],o=e[1],a="";if(e.length<2){var u=this.get(0);if(!u)return;if(Tt.str(i))return u.style[i]||window.getComputedStyle(u,"").getPropertyValue(i);if(Tt.arr(i)){var s={},c=window.getComputedStyle(u,"");return i.forEach((function(t){s[t]=u.style[t]||c.getPropertyValue(t)})),s}}if(Tt.str(i))o||0===o?a=i+":"+De(i,o):this.each((function(t){t.style.removeProperty(i)}));else for(r in i)i[r]||0===i[r]?a+=r+":"+De(r,i[r])+";":this.each((function(t){t.style.removeProperty(r)}));return this.each((function(t){t.style.cssText+=";"+a}))},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},empty:function(){return this.each((function(t){t.innerHTML=""}))},index:function(t){return t?this.indexOf(he(t).get(0)):this.parent().children().indexOf(this.get(0))},hasClass:function(t){return!!t&&[].some.call(this,(function(t){return this.test(Ce(t))}),Le(t))},addClass:function(t){return t?this.each((function(e,n){if("className"in e){var r=[],i=Ce(e);Nt(t,[n,i],e).split(/\s+/g).forEach((function(t){he(this).hasClass(t)||r.push(t)}),e),r.length&&Ce(e,i+(i?" ":"")+r.join(" "))}})):this},removeClass:function(t){return this.each((function(e,n){if("className"in e){if(Tt.undef(t))return Ce(e,"");var r=Ce(e);Nt(t,[n,r],e).split(/\s+/g).forEach((function(t){r=r.replace(Le(t)," ")})),Ce(e,r.trim())}}))},toggleClass:function(t,e){return t?this.each((function(n,r){var i=he(n);Nt(t,[r,Ce(n)],n).split(/\s+/g).forEach((function(t){(Tt.undef(e)?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)}))})):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this.get(0);return Tt.undef(t)?this.get(0)[e?"scrollTop":"pageYOffset"]:this.each((function(){e?this.scrollTop=t:this.scrollTo(this.scrollX,t)}))}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this.get(0);return Tt.undef(t)?this.get(0)[e?"scrollLeft":"pageXOffset"]:this.each((function(){e?this.scrollLeft=t:this.scrollTo(t,this.scrollY)}))}},offsetParent:function(){return this.map((function(t){for(var e=t.offsetParent||document.body;e&&!/^(?:body|html)$/i.test(e.nodeName)&&"static"===he(e).style("position");)e=e.offsetParent;return e}))},position:function(){if(this.length){var t=this.get(0),e=this.offsetParent(),n=this.offset(),r=/^(?:body|html)$/i.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(he(t).style("margin-top"))||0,n.left-=parseFloat(he(t).style("margin-left"))||0,r.top+=parseFloat(he(e[0]).style("border-top-width"))||0,r.left+=parseFloat(he(e[0]).style("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}}},we.reduce((function(t,e){return t[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.on.apply(this,[e].concat(n))},t}),{hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),["width","height"].reduce((function(t,e){var n=_t(e);return t[e]=function(t){var r,i=this.get(0);return Tt.undef(t)?Tt.win(i)?i["inner".concat(n)]:Tt.doc(i)?i.documentElement["scroll".concat(n)]:(r=this.offset())&&r[e]:this.each((function(n,r){(i=he(n)).style(e,Nt(t,[r,i[e]()],n))}))},t}),{}),["after","prepend","before","append"].reduce((function(t,e,n){var r=n%2;return t[e]=function(){for(var t=this.length>1,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=Oe(i,(function(t){return Tt.arr(t)?t.reduce((function(t,e){return Tt.def(e.nodeType)?t.push(e):Tt.inst(e,he)?t=t.concat(e.get()):Tt.str(e)&&(t=t.concat(Ne(e))),t}),[]):Tt.obj(t)||Tt.nul(t)?t:Ne(t)}));return this.each((function(e){var i=r?e:e.parentNode,o=xe(ge,i),u=e.nextSibling,s=e.firstChild;e=[u,s,e,null][n],a.forEach((function(n){if(t)n=n.cloneNode(!0);else if(!i)return he(n).remove();i.insertBefore(n,e),o&&qe(n,(function(t){if(!(Tt.nul(t.nodeName)||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var e=t.ownerDocument?t.ownerDocument.defaultView:window;e.eval.call(e,t.innerHTML)}}))}))}))},t[r?"".concat(e,"To"):"insert".concat(_t(e))]=function(t){return he(t)[e](this),this},t}),{})),Ie=function(){function t(e){r(this,t),this.map=new Map(e)}var e;return o(t,[{key:"getMap",value:function(){return this.map}},{key:"get",value:function(t){return this.map.get(t)}},{key:"keys",value:function(){return Array.from(this.map.keys())}},{key:"values",value:function(){return Array.from(this.map.values())}},{key:"set",value:function(t,e){return this.map.set(t,e),this}},{key:"add",value:function(t){var e=this.size;return this.set(e,t),this}},{key:"last",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1,e=this.keys()[this.size-t];return this.get(e)}},{key:"prev",value:function(){return this.last(2)}},{key:"delete",value:function(t){return this.map["delete"](t),this}},{key:"clear",value:function(){return this.map.clear(),this}},{key:"has",value:function(t){return this.map.has(t)}},{key:"entries",value:function(){return this.map.entries()}},{key:"forEach",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){},e=arguments.length>1?arguments[1]:undefined;return this.map.forEach(t,e),this}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"methodCall",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.forEach((function(e){e[t].apply(e,n)})),this}},{key:"asyncMethodCall",value:(e=n(regeneratorRuntime.mark((function i(t){var e,n,r,o,a,u,s,c=arguments;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(e=c.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=c[r];o=g(this.map),i.prev=2,o.s();case 4:if((a=o.n()).done){i.next=10;break}return u=p(a.value,2),s=u[1],i.next=8,s[t].apply(s,n);case 8:i.next=4;break;case 10:i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](2),o.e(i.t0);case 15:return i.prev=15,o.f(),i.finish(15);case 18:return i.abrupt("return",this);case 19:case"end":return i.stop()}}),i,this,[[2,12,15,18]])}))),function(t){return e.apply(this,arguments)})},{key:"size",get:function(){return this.map.size}}]),t}(),Fe=function(){function t(e){var n=e.callback,i=void 0===n?function(){}:n,o=e.scope,a=void 0===o?null:o,u=e.name,s=void 0===u?"event":u;r(this,t),this.listener={callback:i,scope:a,name:s}}return o(t,[{key:"getCallback",value:function(){return this.listener.callback}},{key:"getScope",value:function(){return this.listener.scope}},{key:"getEventName",value:function(){return this.listener.name}},{key:"toJSON",value:function(){return this.listener}}]),t}(),Be=function(t){u(n,t);var e=h(n);function n(){var t,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"event";return r(this,n),(t=e.call(this)).name=i,t}return n}(Ie),Ue=function(e){u(i,e);var n=h(i);function i(){return r(this,i),n.call(this)}return o(i,[{key:"getEvent",value:function(t){var e=this.get(t);return e instanceof Be?e:(this.set(t,new Be(t)),this.get(t))}},{key:"newListener",value:function(t,e,n){var r=this.getEvent(t);return r.add(new Fe({name:t,callback:e,scope:n})),r}},{key:"on",value:function(e,n,r){var i=this;if(void 0===e)return this;"string"==typeof e&&(e=e.trim().split(/\s/g));var o,a,u="object"==t(e)&&!Array.isArray(e),s=u?n:r;return u||(a=n),Object.keys(e).forEach((function(t){u?(o=t,a=e[t]):o=e[t],i.newListener(o,a,s)}),this),this}},{key:"removeListener",value:function(t,e,n){var r=this.get(t);if(r instanceof Be&&e){var i=new Fe({name:t,callback:e,scope:n});r.forEach((function(t,e){if(t.getCallback()===i.getCallback()&&t.getScope()===i.getScope())return r["delete"](e)}))}return r}},{key:"off",value:function(e,n,r){var i=this;if(void 0===e)return this;"string"==typeof e&&(e=e.trim().split(/\s/g));var o,a,u="object"==t(e)&&!Array.isArray(e),s=u?n:r;return u||(a=n),Object.keys(e).forEach((function(t){u?(o=t,a=e[t]):o=e[t],"function"==typeof a?i.removeListener(o,a,s):i["delete"](o)}),this),this}},{key:"once",value:function(e,n,r){var i=this;if(void 0===e)return this;"string"==typeof e&&(e=e.trim().split(/\s/g));var o,a,u="object"===t(e)&&!Array.isArray(e),s=u?n:r;return u||(a=n),Object.keys(e).forEach((function(t){u?(o=t,a=e[t]):o=e[t],i.on(o,(function n(){for(var r=arguments.length,c=new Array(r),f=0;f<r;f++)c[f]=arguments[f];u?(o=t,a=e[t]):o=e[t],i.off(o,n,s),a.apply(s,c)}),s)}),this),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return void 0===t||("string"==typeof t&&(t=t.trim().split(/\s/g)),t.forEach((function(t){var n=e.get(t);n instanceof Be&&n.forEach((function(t){var e=t.toJSON(),n=e.callback,i=e.scope;n.apply(i,r)}))}),this)),this}}]),i}(Ie),Ve=function(t){return Array.isArray(t)?t:"string"==typeof t||t instanceof Node?function(t){return"string"==typeof t?Array.from(document.querySelectorAll(t)):[t]}(t):t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[]},Xe=function(t,e){return"function"==typeof t?t.apply(void 0,d(e)):t},We=function(t,e){for(var n,r,i={},o=Object.keys(t),a=0,u=o.length;a<u;a++)r=t[n=o[a]],i[n]=Xe(r,e);return i},Je={ease:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out","in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","in-out-expo":"cubic-bezier(1, 0, 0, 1)","in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},Ye=function(t){return/^(ease|in|out)/.test(t)?Je[t]:t},Ke={keyframes:[],loop:1,delay:0,speed:1,endDelay:0,easing:"ease",autoplay:!0,duration:1e3,onfinish:function(){},fillMode:"auto",direction:"normal"},Qe=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};r(this,t),this.options={},this.targets=[],this.properties={},this.animations=new Map,this.duration=0,this.emitter=new Ue;var i=n.options,o=f(n,["options"]);this.options=Object.assign({},Ke,i,o),this.loop=this.loop.bind(this);var a,u=this.options,s=u.loop,c=u.delay,l=u.speed,h=u.easing,p=u.endDelay,d=u.duration,v=u.direction,m=u.fillMode,g=u.onfinish,y=u.target,b=u.keyframes,w=u.autoplay,k=f(u,["loop","delay","speed","easing","endDelay","duration","direction","fillMode","onfinish","target","keyframes","autoplay"]);this.mainElement=document.createElement("span"),this.targets=Ve(y),this.properties=k;for(var E=function(t,n){var r=e.targets[t],i={easing:Ye(h),iterations:!0===s?Infinity:s,direction:v,endDelay:p,duration:d,delay:c,fill:m},o=Xe(b,[t,n,r]);a=o.length?o:e.properties,i=We(i,[t,n,r]),o.length>0||(a=We(a,[t,n,r]));var u=i.delay+i.duration*i.iterations+i.endDelay;e.duration<u&&(e.duration=u);var f=r.animate(a,i);f.onfinish=function(){g(r,t,n)},e.animations.set(r,f)},A=0,x=this.targets.length;A<x;A++)E(A,x);this.mainAnimation=this.mainElement.animate([{opacity:"0"},{opacity:"1"}],{duration:this.duration,easing:"linear"}),this.setSpeed(l),w?this.play():this.pause(),this.promise=this.newPromise(),this.mainAnimation.onfinish=function(){e.finish(e.options),window.cancelAnimationFrame(e.animationFrame)}}return o(t,[{key:"getTargets",value:function(){return this.targets}},{key:"newPromise",value:function(){var t=this;return new Promise((function(e,n){try{t.finish=function(n){return t.emit("finish",n),e(n)}}catch(j){n(j)}}))}},{key:"then",value:function(t,e){return this.promise.then(t,e)}},{key:"catch",value:function(t){return this.promise["catch"](t)}},{key:"finally",value:function(t){return this.promise["finally"](t)}},{key:"loop",value:function(){this.animationFrame=window.requestAnimationFrame(this.loop),this.emit("tick change",this.getCurrentTime())}},{key:"on",value:function(t,e,n){return this.emitter.on(t,e,n),this}},{key:"off",value:function(t,e,n){return this.emitter.off(t,e,n),this}},{key:"emit",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this.emitter).emit.apply(e,[t].concat(r)),this}},{key:"getAnimation",value:function(t){return this.animations.get(t)}},{key:"play",value:function(){return"finished"!==this.mainAnimation.playState&&(this.mainAnimation.play(),this.animationFrame=requestAnimationFrame(this.loop),this.animations.forEach((function(t){"finished"!==t.playState&&t.play()})),this.emit("play")),this}},{key:"pause",value:function(){return"finished"!==this.mainAnimation.playState&&(this.mainAnimation.pause(),window.cancelAnimationFrame(this.animationFrame),this.animations.forEach((function(t){"finished"!==t.playState&&t.pause()})),this.emit("pause")),this}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.mainAnimation.currentTime}},{key:"setCurrentTime",value:function(t){return this.mainAnimation.currentTime=t,this.animations.forEach((function(e){e.currentTime=t})),this}},{key:"getProgress",value:function(){return this.getCurrentTime()/this.duration}},{key:"setProgress",value:function(t){var e=this;return this.mainAnimation.currentTime=t*this.duration,this.animations.forEach((function(n){n.currentTime=t*e.duration})),this}},{key:"getSpeed",value:function(){return this.mainAnimation.playbackRate}},{key:"setSpeed",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return this.mainAnimation.playbackRate=t,this.animations.forEach((function(e){e.playbackRate=t})),this}},{key:"reset",value:function(){this.setCurrentTime(0),this.promise=this.newPromise(),this.options.autoplay?this.play():this.pause()}},{key:"getPlayState",value:function(){return this.mainAnimation.playState}},{key:"getOptions",value:function(){return this.options}},{key:"toJSON",value:function(){return this.getOptions()}}]),t}(),Ge=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Qe(t)},Ze=He("#back-to-top"),tn=He(".navbar"),en=He(window),nn=tn.height(),rn=nn+20;ve=window.document.scrollingElement||window.document.body||window.document.documentElement,ve=He(ve),tn.click(".navbar-menu",(function(t){t.preventDefault(),tn.toggleClass("navbar-show")})),Ze.click((function(t){t.preventDefault(),ve.animate({scrollTop:0,duration:500,easing:"easeInOutQuad"})})),en.scroll(de=function(){tn.toggleClass("navbar-focus",en.scrollTop()+nn>=rn),tn.hasClass("navbar-show")&&tn.removeClass("navbar-show")}),(pe=function(){var t,e=He(".next-layer"),n=He(".load-img"),r=He(".main");de(),n.each((function(t){var e=He(t),n=e.find(".core-img").get(0),r=e.find(".placeholder-img");n.complete?r.addClass("core-img-show"):n.addEventListener("load",(function(){r.addClass("core-img-show")}),!1)})),e.click((function(e,n){e.preventDefault(),t=He(n).closest(".layer",r).next(".layer"),ve.animate({scrollTop:He(t).offset().top-nn,duration:500,easing:"easeInOutQuad"})}))})(),xt.init({transitions:[{enter:function(t){var e=t.current,r=t.next,i=this.async();try{var o=e.container.querySelector(".main");r.container.querySelector(".main").style.opacity="0",o.style.opacity="1",n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ge({target:o,opacity:[1,0],easing:"ease",duration:300});case 2:o.style.opacity="0",i();case 4:case"end":return t.stop()}}),t)})))()}catch(E){console.log(E.message),i()}},after:function(t){var e=t.next,r=this.async();try{var i=e.container.querySelector(".main");n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ge({target:i,opacity:[0,1],easing:"ease",duration:300});case 2:i.style.opacity="1",pe(),r();case 5:case"end":return t.stop()}}),t)})))()}catch(E){console.log(E.message),r()}}}]})},"function"==typeof define&&define.amd?define("app",t):t();
//# sourceMappingURL=/maps/app.min.js.map
