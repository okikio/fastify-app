doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(http-equiv="X-UA-Compatible", content="ie=edge")
    meta(http-equiv='Accept-CH' content='DPR, Viewport-Width, Width')
    meta(name="viewport", content="width=device-width, initial-scale=1.0")

    link(rel='preconnect' href='https://fonts.gstatic.com/')
    if staticSite
      link(rel='preconnect' href=`https://res.cloudinary.com/${cloud_name}/`)

    link(rel="preload" href="https://fonts.gstatic.com/s/materialicons/v48/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2" as="font" type="font/woff2")
    link(rel="preload" href="https://fonts.gstatic.com/s/bungeeinline/v5/Gg8zN58UcgnlCweMrih332VuPGV_-Q.woff2" as="font" type="font/woff2")
    link(rel="preload" href="https://fonts.gstatic.com/s/montserrat/v14/JTURjIg1_i6t8kCHKm45_dJE3gnD_g.woff2" as="font" type="font/woff2")
    link(rel="preload" href="https://fonts.gstatic.com/s/montserrat/v14/JTURjIg1_i6t8kCHKm45_c5H3gnD_g.woff2" as="font" type="font/woff2")
    link(rel="preload" href="https://fonts.gstatic.com/s/robotoslab/v9/BngRUXZYTXPIvIBgJJSb6u9mxLCGwR0.woff2" as="font" type="font/woff2")
    link(rel="preload" href="https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxK.woff2" as="font" type="font/woff2")
    link(rel='stylesheet' href='./css/app.min.css' inline async)

    //- link(rel='preconnect' href='https://polyfill.io/v3/')
    //- link(rel='dns-prefetch' href='https://fonts.googleapis.com')
    //- link(rel='stylesheet' async href='https://fonts.googleapis.com/css?family=Bungee+Inline|Roboto+Slab:300|Montserrat:700,800|Roboto:400,600|Material+Icons&display=swap')

    title= page.title

    include ./components/header.pug
    include ./components/layer.pug
    include ./components/layout.pug
    include ./components/section.pug
    include ./components/content.pug
    include ./components/hero.pug
    include ./components/footer.pug
  body
    //- Navbar etc...
    +header(page.tabs, page.title)

    .header-top-spot
    main.main#swup.transition-fade
      - let layerLists = page.values;

      //- Page Layers
      if layerLists
        each layers in layerLists
          - let layer = layers.layer;  //- Display Custom Layer if it exists
          - let hero = layers.hero; //- Display Hero Layer if it exists
          if hero
            +hero(hero)

          if layer
          - let layout = layer.layout;
            +layer(layer)

              if layout
                - let sectionList = layout.values;
                +layout(layout)
                  
                  if sectionList
                    each sections in sectionList
                      - let section = sections.section;
                      - let title = section.title;

                      if title
                        +title(section)
                      +content(section)

    +footer("2019 Okiki Ojo")
    script(src=`${dev ? './js/app.modern.min.js' : './js/app.vendor.min.js'}` inline defer)