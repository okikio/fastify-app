function getReferenceKey(t,e){return t.slice(0,e).join(".")||"."}function getCutoff(t,e){for(var s=t.length,n=0;n<s;++n)if(t[n]===e)return n+1;return 0}function createReplacer(t,e){var s="function"==typeof t,n="function"==typeof e,i=[],r=[];return function(o,a){if("object"==typeof a)if(i.length){var _=getCutoff(i,this);0===_?i[i.length]=this:(i.splice(_),r.splice(_)),r[r.length]=o;var p=getCutoff(i,a);if(0!==p)return n?e.call(this,o,a,getReferenceKey(r,p)):"[ref="+getReferenceKey(r,p)+"]"}else i[0]=a,r[0]=o;return s?t.call(this,o,a):a}}function stringify(t,e,s,n){return JSON.stringify(t,createReplacer(e,n),s)}let _stringify=t=>{let e=[];return stringify(t,(t,s)=>"function"==typeof s?(e.push(s.toString()),"_"):s,4).replace(/"_"/g,()=>e.shift())};var stringify_1={stringify:stringify,_stringify:_stringify},stringify_3=stringify_1._stringify;let{assign:assign,keys:keys,values:values}=Object,{isArray:isArray,from:from,of:of}=Array,_is=(t,e)=>typeof t==e,_isInst=(t,e)=>t instanceof e,_type=t=>e=>_is(e,t);assign(_is,{el:t=>_isInst(t,Element)||_isInst(t,Document),arrlike(t){let e=_is(t.length,"number")&&t.length;return 0==e||e>0&&e-1 in t},num:t=>!isNaN(t)&&_type("number")(t),class:t=>t&&t._method&&t._class,not:(t,...e)=>!_is[t](...e),doc:t=>_isInst(t,Document),def:t=>!_is(t,"undefined"),win:t=>t&&t.window,undef:_type("undefined"),bool:_type("boolean"),fn:_type("function"),obj:_type("object"),str:_type("string"),nul:_type("null"),inst:_isInst,arr:isArray,_type:_type});let _fnval=(t,e,s)=>_is.not("fn",t)||keys(t.prototype||{}).length>0?t:t.apply(s,e),_argNames=t=>{let e=t.toString().match(/^[\s(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]},_path=(t,e,s)=>(e=e.toString().split(/[.,]/g),_is.def(s)?(e.length>1?_path(t[e.shift()],e,s):t[e[0]]=s,s):(e.forEach(e=>{t=t[e]}),t)),_attr=(t,e,s)=>_is.obj(e)&&_is.not("arr",e)?assign(t,e):_is.arr(e)?_is.undef(s)?e.map(e=>_path(t,e)):(e.forEach(e=>{_path(t,e,s)}),t):_path(t,e,s),_new=function(t,e){let s=function(){return t.apply(this,e)};return s.prototype=t.prototype,new s},_attachProp=t=>{let e="prototype"==t;return(t,...s)=>{let n=e&&t.SuperClass?t.SuperClass.prototype:t.SuperClass;return s.forEach(s=>{let i=_fnval(s,[t,t.constructor],e?t.prototype:t);keys(i).forEach(s=>{let r=i[s],o=r;_is.fn(r)&&(n&&"$super"==_argNames(r)[0]&&(r=(...e)=>{let i=n[s].bind(t);return o.apply(t,[i,...e])}),(r=r.bind(t)).valueOf=o.valueOf.bind(o),r.toString=o.toString.bind(o)),(e?t.prototype:t)[s]=r,_is.def(r)&&_is.obj(r)&&_is.not("nul",r)&&(r.$$prop||r.get&&_is.fn(r.get)||r.set&&_is.fn(r.set))&&!r._class&&Object.defineProperty(e?t.prototype:t,s,r)},t)},t),t}},_method=_attachProp("prototype"),_static=_attachProp("static"),_alias=function(t={},e){let s,n,i,r,o=e&&e.thisArg||[],a=e&&e.chain||[],_={},p=keys(t);for(let l=0;l<p.length;l++)n=t[r=p[l]],_is.fn(n)&&(_[r]=function(...t){return _is.fn(e)?e.call(this,n,...t):(i=o.includes(l)?[this,...t]:t,a.includes(l)?(n.apply(this,i),this):n.apply(this,i))},s=n.toString.bind(n),_[r].toString=a.includes(l)?()=>`${s()} return this;`:s,_[r].valueOf=n.valueOf.bind(n));return _},_configAttr=function(t="get",e="function"){return s=>{let n=s;return"function"==e&&((n=Function(`with (this) return ${s}`)).toString=s.toString),{[t]:n}}},_get=_configAttr("get","function"),_set=_configAttr("set","function"),_callsuper=function(t,e,...s){let n=t.prototype,i=null,r=t,o=r,a=o.SuperClass;for(;a;){if(a=n?a:a.prototype,r[e]!=a[e]){i=a[e];break}a=(o=(r=a).constructor).SuperClass}if(i)return s.length>0?i.apply(t,s):i.call(t);console.error(`${e} method not found in prototype chain.`)},props={_is:_is,_fnval:_fnval,_argNames:_argNames,_method:_method,_static:_static,_path:_path,_attr:_attr,_alias:_alias,_configAttr:_configAttr,_get:_get,_set:_set,_new:_new,_callsuper:_callsuper},aliasMethods=_alias(props,{thisArg:["_attr","_path","_method","_static"]}),_class=function(...t){let e,s,n;return s=function(){},(_is.fn(t[0])||_is.arr(this.SubClasses))&&(n=_is.arr(this.SubClasses)?this:t.shift()),e=function(...t){return _is.not("inst",this,e)?_new(e,t):(this._args=t,this.init.apply(this,this._args))},n&&(n.prototype.constructor=n,s.prototype=n.prototype,e.prototype=new s,n.SubClasses&&n.SubClasses.push(e)),e.SuperClass=n,e.SubClasses=[],assign(e.prototype,aliasMethods,{SuperClass:e.SuperClass,SubClasses:e.SubClasses}),assign(e.prototype,{method:e.prototype._method,static:e.prototype._static,attr:e.prototype._attr}),_method(e,...t),e.prototype._class||(e.prototype._class="New Class"),e.prototype.constructor=e,e.prototype.init?(e.toString=e.prototype.init.toString,e.toValue=e.prototype.init.toValue):e.prototype.init=function(){},e(...t)};assign(_class,props);const{_get:_get$1,_is:_is$1,_argNames:_argNames$1,keys:keys$1}=_class;let passive=!1,opts={},noop=()=>{};opts=Object.defineProperty({},"passive",{get:()=>passive={capture:!1,passive:!0}}),window.addEventListener("PassiveEventTest",noop,opts),window.removeEventListener("PassiveEventsTest",noop,opts);let _event=_class({_class:"Event",_events:{},_emit:[],_names:_get$1("Object.keys(_events)"),_eventCount:_get$1("_names.length"),_preEvent(t){return this._events[t]||(this._events[t]=[]),this._events[t]},_eventApp(t,e,s){return{callback:t,scope:e||this,event:s}},on(t,e,s){let n,i;if(!_is$1.undef(t))return _is$1.str(t)&&(t=t.split(/\s/g)),_is$1.not("arr",t)&&_is$1.not("obj",t)&&(t=[t]),keys$1(t).forEach(r=>{i=t[r],_is$1.obj(t)&&_is$1.not("arr",t)?(n=this._eventApp(i,e||this,r),this._preEvent(r).push(n)):(n=this._eventApp(e,s,i),this._preEvent(i).push(n))},this),this},emit(t,...e){let s,n=e;if(!_is$1.undef(t))return _is$1.str(t)&&(t=t.split(/\s/g)),_is$1.not("arr",t)&&(t=[t]),t.forEach(t=>{s=this._preEvent(t),this._emit.includes(t)||this._emit.push(t),s.forEach(t=>{n=e,"$evt"==_argNames$1(t.callback)[0]&&(n=[t,...e]),t.callback.apply(t.scope,n)},this)},this),this},off(t,e,s){let n;if(_is$1.undef(t))return;_is$1.str(t)&&(t=t.split(/\s/g)),_is$1.not("arr",t)&&_is$1.not("obj",t)&&(t=[t]);let i=((t,e,s)=>{let n=this._preEvent(t);if(e){let i,r=this._eventApp(e,s||this,t);n.forEach((t,e)=>{stringify_3(t)==stringify_3(r)&&(i=e)},this),i>-1&&n.splice(i,1)}else delete this._events[t]}).bind(this);return keys$1(t).forEach(r=>{n=t[r],_is$1.obj(t)&&_is$1.not("obj",t)?i(r,n,s):i(n,e,s)},this),this},once(t,e,s){if(_is$1.undef(t))return;_is$1.str(t)&&(t=t.split(/\s/g)),_is$1.not("arr",t)&&_is$1.not("obj",t)&&(t=[t]);let n=function(...i){this.off(t,n,s),e.apply(s,i)};return this.on(t,n,s),this},listeners(t){let e=this._preEvent(t);return e.length?e.map(t=>t.callback):[]},listenerValues(t,...e){let s=this._preEvent(t);return s.length?s.map(t=>t.callback.call(t.scope,...e)):[]},clear(){return this._eventCount=0,this._events={},this},clearListeners(t){return this._events[t]=[],this},add:_get$1("on"),bind:_get$1("on"),remove:_get$1("off"),unbind:_get$1("off"),fire:_get$1("emit"),trigger:_get$1("emit"),callbacks:_get$1("listeners")}),_log=(...t)=>t.forEach(t=>console.log(t));_log(_event._static({})),console.log({message:"Hello"});
//# sourceMappingURL=/maps/app.modern.min.js.map
